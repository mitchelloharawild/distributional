<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vectorised Probability Distributions • distributional</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Vectorised Probability Distributions">
<meta property="og:description" content="Vectorised distribution objects with tools for manipulating, 
    visualising, and using probability distributions. Designed to allow model
    prediction outputs to return distributions rather than their parameters, 
    allowing users to directly interact with predictive distributions in a
    data-oriented workflow. In addition to providing generic replacements for
    p/d/q/r functions, other useful statistics can be computed including means,
    variances, intervals, and highest density regions.">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-145121339-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-145121339-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">distributional</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mitchelloharawild/distributional/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="distributional" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#distributional" class="anchor"></a>distributional</h1></div>
<!-- badges: start -->

<p>The distributional package allows distributions to be used in a vectorised context. It provides methods which are minimal wrappers to the standard d, p, q, and r distribution functions which are applied to each distribution in the vector. Additional distributional statistics can be computed, including the <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>, <code><a href="https://rdrr.io/r/stats/median.html">median()</a></code>, <code><a href="reference/variance.html">variance()</a></code>, and intervals with <code><a href="reference/hilo.html">hilo()</a></code>.</p>
<p>The distributional nature of a model’s predictions is often understated, with defaults of <code><a href="https://rdrr.io/r/stats/predict.html">predict()</a></code> methods usually only producing point predictions. The <code>forecast()</code> function from the <a href="https://CRAN.R-project.org/package=forecast">forecast package</a> goes further in illustrating uncertainty by producing point forecasts and intervals by default, however the user’s ability to interact with them is limited. This package vectorises distributions and provides methods for working with them, making entire distributions suitable prediction outputs for model functions.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of distributional from <a href="https://CRAN.R-project.org/package=distributional">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"distributional"</span>)</pre></div>
<p>The development version can be installed from <a href="https://github.com/mitchelloharawild/distributional">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="co"># install.packages("remotes")</span>
<span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"mitchelloharawild/distributional"</span>)</pre></div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>Distributions are created using <code>dist_*()</code> functions. Currently only the normal distribution is supported for testing purposes.</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">distributional</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'distributional'</span>
<span class="co">#&gt; The following object is masked from 'package:grDevices':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     pdf</span>
<span class="no">my_dist</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fu"><a href="reference/dist_normal.html">dist_normal</a></span>(<span class="kw">mu</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">sigma</span> <span class="kw">=</span> <span class="fl">1</span>), <span class="fu"><a href="reference/dist_student_t.html">dist_student_t</a></span>(<span class="kw">df</span> <span class="kw">=</span> <span class="fl">10</span>))
<span class="no">my_dist</span>
<span class="co">#&gt; &lt;distribution[2]&gt;</span>
<span class="co">#&gt; [1] N(0, 1)     t(10, 0, 1)</span></pre></div>
<p>The standard four distribution functions in R are usable via these generics:</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/stats/density.html">density</a></span>(<span class="no">my_dist</span>, <span class="fl">0</span>) <span class="co"># c(dnorm(0, mean = 0, sd = 1), dt(0, df = 10))</span>
<span class="co">#&gt; [1] 0.3989423 0.3891084</span>
<span class="fu"><a href="reference/cdf.html">cdf</a></span>(<span class="no">my_dist</span>, <span class="fl">5</span>) <span class="co"># c(pnorm(5, mean = 0, sd = 1), pt(5, df = 10))</span>
<span class="co">#&gt; [1] 0.9999997 0.9997313</span>
<span class="fu"><a href="https://rdrr.io/r/stats/quantile.html">quantile</a></span>(<span class="no">my_dist</span>, <span class="fl">0.1</span>) <span class="co"># c(qnorm(0.1, mean = 0, sd = 1), qt(0.1, df = 10))</span>
<span class="co">#&gt; [1] -1.281552 -1.372184</span>
<span class="fu"><a href="https://rdrr.io/pkg/generics/man/generate.html">generate</a></span>(<span class="no">my_dist</span>, <span class="fl">10</span>) <span class="co"># list(rnorm(10, mean = 0, sd = 1), rt(10, df = 10))</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt;  [1]  1.262954285 -0.326233361  1.329799263  1.272429321  0.414641434</span>
<span class="co">#&gt;  [6] -1.539950042 -0.928567035 -0.294720447 -0.005767173  2.404653389</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt;  [1]  0.99165484 -1.36999677 -0.40943004 -0.85261144 -1.37728388  0.81020460</span>
<span class="co">#&gt;  [7] -1.82965813 -0.06142032 -1.33933588 -0.28491414</span></pre></div>
<p>You can also compute intervals using <code><a href="reference/hilo.html">hilo()</a></code></p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="fu"><a href="reference/hilo.html">hilo</a></span>(<span class="no">my_dist</span>, <span class="fl">0.95</span>)
<span class="co">#&gt; &lt;hilo[2]&gt;</span>
<span class="co">#&gt; [1] [-0.01190677, 0.01190677]0.95 [-0.01220773, 0.01220773]0.95</span></pre></div>
<p>Additionally, some distributions may support other methods such as mathematical operations and summary measures. If the methods aren’t supported, a transformed distribution will be created.</p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="no">my_dist</span>
<span class="co">#&gt; &lt;distribution[2]&gt;</span>
<span class="co">#&gt; [1] N(0, 1)     t(10, 0, 1)</span>
<span class="no">my_dist</span>*<span class="fl">3</span> + <span class="fl">2</span>
<span class="co">#&gt; &lt;distribution[2]&gt;</span>
<span class="co">#&gt; [1] N(2, 9)        t(t(10, 0, 1))</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">my_dist</span>)
<span class="co">#&gt; [1] 0 0</span>
<span class="fu"><a href="reference/variance.html">variance</a></span>(<span class="no">my_dist</span>)
<span class="co">#&gt; [1] 1.00 1.25</span></pre></div>
<p>You can also visualise the distribution(s) using the <a href="https://mjskay.github.io/ggdist/">ggdist</a> package.</p>
<div class="sourceCode" id="cb7"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggdist</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)

<span class="no">df</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(
  <span class="kw">name</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Gamma(2,1)"</span>, <span class="st">"Normal(5,1)"</span>, <span class="st">"Mixture"</span>),
  <span class="kw">dist</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fu"><a href="reference/dist_gamma.html">dist_gamma</a></span>(<span class="fl">2</span>,<span class="fl">1</span>), <span class="fu"><a href="reference/dist_normal.html">dist_normal</a></span>(<span class="fl">5</span>,<span class="fl">1</span>),
           <span class="fu"><a href="reference/dist_mixture.html">dist_mixture</a></span>(<span class="fu"><a href="reference/dist_gamma.html">dist_gamma</a></span>(<span class="fl">2</span>,<span class="fl">1</span>), <span class="fu"><a href="reference/dist_normal.html">dist_normal</a></span>(<span class="fl">5</span>, <span class="fl">1</span>), <span class="kw">weights</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.4</span>, <span class="fl">0.6</span>)))
)

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">y</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="no">name</span>, <span class="kw">levels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span>(<span class="no">name</span>)))) +
  <span class="fu"><a href="http://mjskay.github.io/ggdist/reference/stat_dist_slabinterval.html">stat_dist_halfeye</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">dist</span> <span class="kw">=</span> <span class="no">dist</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Density function for a mixture of distributions"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="kw">NULL</span>, <span class="kw">x</span> <span class="kw">=</span> <span class="kw">NULL</span>)</pre></div>
<p><img src="reference/figures/README-plot-1.png" width="100%"></p>
</div>
<div id="related-work" class="section level2">
<h2 class="hasAnchor">
<a href="#related-work" class="anchor"></a>Related work</h2>
<p>There are several packages which unify interfaces for distributions in R:</p>
<ul>
<li>stats provides functions to work with possibly multiple distributions (comparisons made below).</li>
<li>
<a href="https://cran.r-project.org/package=distributions3">distributions3</a> represents singular distributions using S3, with particularly nice documentation. This package makes use of some code and documentation from this package.</li>
<li>
<a href="https://cran.r-project.org/package=distr">distr</a> represents singular distributions using S4.</li>
<li>
<a href="https://cran.r-project.org/package=distr6">distr6</a> represents singular distributions using R6.</li>
<li>Many more in the <a href="https://cran.r-project.org/view=Distributions">CRAN task view</a>
</li>
</ul>
<p>This package differs from the above libraries by storing the distributions in a vectorised format. It does this using <a href="https://vctrs.r-lib.org/">vctrs</a>, so it should play nicely with the tidyverse (try putting distributions into a tibble!).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=distributional">https://​cloud.r-project.org/​package=distributional</a>
</li>
<li>Browse source code at <br><a href="https://github.com/mitchelloharawild/distributional/">https://​github.com/​mitchelloharawild/​distributional/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/mitchelloharawild/distributional/issues">https://​github.com/​mitchelloharawild/​distributional/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Mitchell O'Hara-Wild <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6729-7695" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Alex Hayes <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-4985-5160" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://github.com/mitchelloharawild/distributional"><img src="https://github.com/mitchelloharawild/distributional/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/github/mitchelloharawild/distributional?branch=master"><img src="https://codecov.io/gh/mitchelloharawild/distributional/branch/master/graph/badge.svg" alt="Coverage Status"></a></li>
<li><a href="https://CRAN.R-project.org/package=distributional"><img src="https://www.r-pkg.org/badges/version/distributional" alt="CRAN status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Mitchell O'Hara-Wild, Alex Hayes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
